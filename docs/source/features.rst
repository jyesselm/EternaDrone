Features
========

What is a Feature?
--------
A feature is loosely defined as any value that can be calculated based on sequence/secondary structure of a construct that can be correlated with its final SHAPE score. 

No one parameter is likely to highly correlate directly with the SHAPE score but by using a combination of many it is possible to build an empirical model to help predict the success of a sequence to form into its target secondary structure. 

An few example features: the number of Guanine bases in the sequence, the number of basepairs in the secondary structure, etc.

Feature Generation
-------
In Shape_Predictor, features are generated by FeatureGenerator Classes and all inherit from the abstract class FeatureGenerator. 

.. currentmodule:: eterna_drone

.. toctree::
   :maxdepth: 2

.. autosummary::
   :toctree: generated/
   :template: class.rst

   feature_generator.FeatureGenerator

Currently three FeatureGenerators have been implemented, but these are just stratching the surface of possibility, based on the setup of the module its trivial to add your own FeatureGenerator class. See the three below for examples.

.. toctree::
   :maxdepth: 2

.. autosummary::
   :toctree: generated/
   :template: class.rst

   feature_generator.Sequence_FG
   feature_generator.Structure_FG
   feature_generator.Vienna_FG

Adding New Features
-------
The easy ability to add new features is a critical design philsophy when we wrote Shape_Predictor. 

	.. code-block:: python

		#inherit from abstract class
		class New_FG(FeatureGenerator):
			def __init__(self):
				return

			#is called on every construct here is were you populate 
			#your feature
			def generate_for_construct(self, construct):
				construct.feature['your_new_feature'] = 1337

once your new FeatureGenerator is implemented make sure to register it with FeatureGeneratorFactory and then rebuild all the construct data with rebuild_data.py and thats it

.. toctree::
   :maxdepth: 2

.. autosummary::
   :toctree: generated/
   :template: class.rst

   feature_generator_factory.FeatureGeneratorFactory





